[DatabaseQueries]

#observations
database.getIdFromObservationsSorted=select distinct(Id) from bi.observationsSorted order by id desc
database.getObservationsOwners=select us.Name from bi.observationsSorted os join data.users us on us.Id=os.OwnerId where os.id=
database.getStarNameFromObservationsSorted=select distinct(ObjectName) from bi.observationsSorted where id=
database.getStartDateFromObservationsSorted=select top 1 StartDate from bi.observationsSorted where id=
database.getEndDateFromObservationsSorted=select top 1 EndDate from bi.observationsSorted where id=
database.getUPhotometryFlagFromUPhotometrySorted=select count(1) from bi.uPhotometrySorted where id=
database.getUPhotometryFluxFromUPhotometrySorted=select uPhotometry from bi.uPhotometrySorted where id=
database.getUPhotometryTimeFromUPhotometrySorted=select uPhotometryTime from bi.uPhotometrySorted where id=
database.getVPhotometryFlagFromVPhotometrySorted=select count(1) from bi.vPhotometrySorted where id=
database.getVPhotometryFluxFromVPhotometrySorted=select vPhotometry from bi.vPhotometrySorted where id=
database.getVPhotometryTimeFromVPhotometrySorted=select vPhotometryTime from bi.vPhotometrySorted where id=
database.getBPhotometryFlagFromBPhotometrySorted=select count(1) from bi.bPhotometrySorted where id=
database.getBPhotometryFluxFromBPhotometrySorted=select bPhotometry from bi.bPhotometrySorted where id=
database.getBPhotometryTimeFromBPhotometrySorted=select bPhotometryTime from bi.bPhotometrySorted where id=
database.getRPhotometryFlagFromRPhotometrySorted=select count(1) from bi.rPhotometrySorted where id=
database.getRPhotometryFluxFromRPhotometrySorted=select rPhotometry from bi.rPhotometrySorted where id=
database.getRPhotometryTimeFromRPhotometrySorted=select rPhotometryTime from bi.rPhotometrySorted where id=
database.getIPhotometryFlagFromIPhotometrySorted=select count(1) from bi.iPhotometrySorted where id=
database.getIPhotometryFluxFromIPhotometrySorted=select iPhotometry from bi.iPhotometrySorted where id=
database.getIPhotometryTimeFromIPhotometrySorted=select iPhotometryTime from bi.iPhotometrySorted where id=
database.getLastLoadObservationIdFromStagingObservations=select distinct(lg.ObservationId) from log.log lg join stg.stagingObservations os on lg.ObservationId=os.Id where lg.LastLoad=1
database.getLastLoadStarNameFromStagingObservations=select distinct(os.ObjectName) from log.log lg join stg.stagingObservations os on lg.ObservationId=os.Id where lg.LastLoad=1
database.getLastLoadStartDateFromStagingObservations=select distinct(cast(os.StartDate as varchar)) from log.log lg join stg.stagingObservations os on lg.ObservationId=os.Id where lg.LastLoad=1
database.getLastLoadEndDateFromStagingObservations=select distinct(cast(os.EndDate as varchar)) from log.log lg join stg.stagingObservations os on lg.ObservationId=os.Id where lg.LastLoad=1
database.getObservationsDatesFromObservationsSorted=select cast(StartDate as varchar) from bi.observationsSorted group by StartDate order by CONVERT(DateTime, StartDate ,101) asc
database.getObservationsCountsFromObservationsSorted=select count(distinct cast(id as varchar)) as data from bi.observationsSorted group by StartDate order by CONVERT(DateTime, StartDate ,101) asc

#personal observations
database.getUserIdFromObservationsSorted=select distinct(os.Id) from bi.observationsSortedPersonalized os join data.users us on us.Id=os.OwnerId where us.Email=
database.getUserObservationsOwners=select us.Name from bi.observationsSortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserStarNameFromObservationsSorted=;with Dataset as(select *, row_number() over (partition by id order by ObjectName) as rownum from bi.observationsSortedPersonalized) select os.ObjectName from Dataset os join data.users us on us.Id=os.OwnerId where rownum = 1 and os.id=
database.getUserObjectTypeFromObservationsSorted=;with Dataset as(select *, row_number() over (partition by id order by ObjectName) as rownum from bi.observationsSortedPersonalized) select os.ObjectType from Dataset os join data.users us on us.Id=os.OwnerId where rownum = 1 and os.id=
database.getUserObjectVerifiedFromObservationsSorted=;with Dataset as(select *, row_number() over (partition by id order by ObjectName) as rownum from bi.observationsSortedPersonalized) select os.Verified from Dataset os join data.users us on us.Id=os.OwnerId where rownum = 1 and os.id=
database.getUserStartDateFromObservationsSorted=select top 1 os.StartDate from bi.observationsSortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserEndDateFromObservationsSorted=select top 1 os.EndDate from bi.observationsSortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserUPhotometryFlagFromUPhotometrySorted=select count(1) from bi.uPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserUPhotometryFluxFromUPhotometrySorted=select os.uPhotometry from bi.uPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserUPhotometryTimeFromUPhotometrySorted=select os.uPhotometryTime from bi.uPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserVPhotometryFlagFromVPhotometrySorted=select count(1) from bi.vPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserVPhotometryFluxFromVPhotometrySorted=select os.vPhotometry from bi.vPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserVPhotometryTimeFromVPhotometrySorted=select os.vPhotometryTime from bi.vPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserBPhotometryFlagFromBPhotometrySorted=select count(1) from bi.bPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserBPhotometryFluxFromBPhotometrySorted=select os.bPhotometry from bi.bPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserBPhotometryTimeFromBPhotometrySorted=select os.bPhotometryTime from bi.bPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserRPhotometryFlagFromRPhotometrySorted=select count(1) from bi.rPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserRPhotometryFluxFromRPhotometrySorted=select os.rPhotometry from bi.rPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserRPhotometryTimeFromRPhotometrySorted=select os.rPhotometryTime from bi.rPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserIPhotometryFlagFromIPhotometrySorted=select count(1) from bi.iPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserIPhotometryFluxFromIPhotometrySorted=select os.iPhotometry from bi.iPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getUserIPhotometryTimeFromIPhotometrySorted=select os.iPhotometryTime from bi.iPhotometrySortedPersonalized os join data.users us on us.Id=os.OwnerId where os.id=
database.getPersonalObservationsStatuses=select ob.Status from bi.observationsSortedPersonalized os join stg.stagingObservations ob on ob.Id=os.Id join data.users us on us.Id=os.OwnerId where ob.RowId=1 and os.RowId=1 and os.id=

#HR Diagrams Data
database.getVObservationsFromVPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(vPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as vAverage from bi.vPhotometrySorted group by ObjectName
database.getBObservationsFromBPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(bPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as bAverage from bi.bPhotometrySorted group by ObjectName
database.getIObservationsFromIPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(iPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as iAverage from bi.iPhotometrySorted group by ObjectName

database.getJoinedVObservationsFromVPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(so.vPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as vAverage from bi.vPhotometrySorted so join bi.bvDiagramAvg pe on pe.ObjectName=so.ObjectName group by so.ObjectName
database.getJoinedBObservationsFromBPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(so.bPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as bAverage from bi.bPhotometrySorted so join bi.ubDiagramAvg pe on pe.ObjectName=so.ObjectName group by so.ObjectName
database.getJoinedIForRIObservationsFromIPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(so.iPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as iAverage from bi.iPhotometrySorted so join bi.riDiagramAvg pe on pe.ObjectName=so.ObjectName group by so.ObjectName
database.getJoinedIForVIObservationsFromIPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(so.iPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as iAverage from bi.iPhotometrySorted so join bi.viDiagramAvg pe on pe.ObjectName=so.ObjectName group by so.ObjectName

database.getBVObservationsDifferenceFromBVDiagramAvg=select BVDifference from bi.bvDiagramAvg
database.getUBObservationsDifferenceFromUBDiagramAvg=select UBDifference from bi.ubDiagramAvg
database.getRIObservationsDifferenceFromRIDiagramAvg=select RIDifference from bi.riDiagramAvg
database.getVIObservationsDifferenceFromVIDiagramAvg=select VIDifference from bi.viDiagramAvg
database.getStarNamesFromBVDiagramAvg=select ObjectName from bi.bvDiagramAvg
database.getStarNamesFromUBDiagramAvg=select ObjectName from bi.ubDiagramAvg
database.getStarNamesFromRIDiagramAvg=select ObjectName from bi.riDiagramAvg
database.getStarNamesFromVIDiagramAvg=select ObjectName from bi.viDiagramAvg

#HR Diagrams Range
database.getXMaxFromBVDiagramAvg=select cast((max(cast(cast(rtrim(ltrim(BVDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as bvDifferenceMax from bi.bvDiagramAvg
database.getXMinFromBVDiagramAvg=select cast((min(cast(cast(rtrim(ltrim(BVDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as bvDifferenceMin from bi.bvDiagramAvg
database.getXMaxFromUBDiagramAvg=select cast((max(cast(cast(rtrim(ltrim(UBDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as ubDifferenceMax from bi.ubDiagramAvg
database.getXMinFromUBDiagramAvg=select cast((min(cast(cast(rtrim(ltrim(UBDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as ubDifferenceMin from bi.ubDiagramAvg
database.getXMaxFromRIDiagramAvg=select cast((max(cast(cast(rtrim(ltrim(RIDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as riDifferenceMax from bi.riDiagramAvg
database.getXMinFromRIDiagramAvg=select cast((min(cast(cast(rtrim(ltrim(RIDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as riDifferenceMin from bi.riDiagramAvg
database.getXMaxFromVIDiagramAvg=select cast((max(cast(cast(rtrim(ltrim(VIDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as viDifferenceMax from bi.viDiagramAvg
database.getXMinFromVIDiagramAvg=select cast((min(cast(cast(rtrim(ltrim(VIDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as viDifferenceMin from bi.viDiagramAvg
database.getYMaxFromVPhotometrySorted=select cast((max(cast(cast(rtrim(ltrim(vPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as vPhotometryMax from bi.vPhotometrySorted
database.getYMinFromVPhotometrySorted=select cast((min(cast(cast(rtrim(ltrim(vPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as vPhotometryMin from bi.vPhotometrySorted
database.getYMaxFromBPhotometrySorted=select cast((max(cast(cast(rtrim(ltrim(bPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as bPhotometryMax from bi.bPhotometrySorted
database.getYMinFromBPhotometrySorted=select cast((min(cast(cast(rtrim(ltrim(bPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as bPhotometryMin from bi.bPhotometrySorted
database.getYMaxFromIPhotometrySorted=select cast((max(cast(cast(rtrim(ltrim(iPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as iPhotometryMax from bi.iPhotometrySorted
database.getYMinFromIPhotometrySorted=select cast((min(cast(cast(rtrim(ltrim(iPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as iPhotometryMin from bi.iPhotometrySorted

#HR Diagrams Personalized Data
database.getJoinedUserVObservationsFromVPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(so.vPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as vAverage from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.Id join bi.bvDiagramAvgPersonalized pe on pe.ObjectName=so.ObjectName where us.Email=
database.getJoinedUserBObservationsFromBPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(so.bPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as bAverage from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.Id join bi.ubDiagramAvgPersonalized pe on pe.ObjectName=so.ObjectName where us.Email=
database.getJoinedUserIForRIObservationsFromIPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(so.iPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as iAverage from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.Id join bi.riDiagramAvgPersonalized pe on pe.ObjectName=so.ObjectName where us.Email=
database.getJoinedUserIForVIObservationsFromIPhotometrySorted=select cast(avg(cast(cast(rtrim(ltrim(so.iPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as iAverage from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.Id join bi.viDiagramAvgPersonalized pe on pe.ObjectName=so.ObjectName where us.Email=

database.getUserBVObservationsDifferenceFromBVDiagramAvg=select so.BVDifference from bi.bvDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserUBObservationsDifferenceFromUBDiagramAvg=select so.UBDifference from bi.ubDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserRIObservationsDifferenceFromRIDiagramAvg=select so.RIDifference from bi.riDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserVIObservationsDifferenceFromVIDiagramAvg=select so.VIDifference from bi.viDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserStarNamesFromBVDiagramAvg=select so.ObjectName from bi.bvDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserStarNamesFromUBDiagramAvg=select so.ObjectName from bi.ubDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserStarNamesFromRIDiagramAvg=select so.ObjectName from bi.riDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserStarNamesFromVIDiagramAvg=select so.ObjectName from bi.viDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=

#HR Diagrams Personalized Range
database.getUserXMaxFromBVDiagramAvg=select cast((max(cast(cast(rtrim(ltrim(so.BVDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as bvDifferenceMax from bi.bvDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserXMinFromBVDiagramAvg=select cast((min(cast(cast(rtrim(ltrim(so.BVDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as bvDifferenceMin from bi.bvDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserXMaxFromUBDiagramAvg=select cast((max(cast(cast(rtrim(ltrim(so.UBDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as ubDifferenceMax from bi.ubDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserXMinFromUBDiagramAvg=select cast((min(cast(cast(rtrim(ltrim(so.UBDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as ubDifferenceMin from bi.ubDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserXMaxFromRIDiagramAvg=select cast((max(cast(cast(rtrim(ltrim(so.RIDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as riDifferenceMax from bi.riDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserXMinFromRIDiagramAvg=select cast((min(cast(cast(rtrim(ltrim(so.RIDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as riDifferenceMin from bi.riDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserXMaxFromVIDiagramAvg=select cast((max(cast(cast(rtrim(ltrim(so.VIDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as viDifferenceMax from bi.viDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserXMinFromVIDiagramAvg=select cast((min(cast(cast(rtrim(ltrim(so.VIDifference)) as varchar(10)) as decimal(18,10)))) as varchar) as viDifferenceMin from bi.viDiagramAvgPersonalized so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserYMaxFromVPhotometrySorted=select cast((max(cast(cast(rtrim(ltrim(so.vPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as vPhotometryMax from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserYMinFromVPhotometrySorted=select cast((min(cast(cast(rtrim(ltrim(so.vPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as vPhotometryMin from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserYMaxFromBPhotometrySorted=select cast((max(cast(cast(rtrim(ltrim(so.bPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as bPhotometryMax from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserYMinFromBPhotometrySorted=select cast((min(cast(cast(rtrim(ltrim(so.bPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as bPhotometryMin from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserYMaxFromIPhotometrySorted=select cast((max(cast(cast(rtrim(ltrim(so.iPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as iPhotometryMax from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.Id where us.Email=
database.getUserYMinFromIPhotometrySorted=select cast((min(cast(cast(rtrim(ltrim(so.iPhotometry)) as varchar(10)) as decimal(18,10)))) as varchar) as iPhotometryMin from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.Id where us.Email=


#LC Diagrams Range
database.getLCXMaxFromUPhotometrySorted=select max(uPhotometryTime) as xmax from bi.uPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCXMinFromUPhotometrySorted=select min(uPhotometryTime) as xmin from bi.uPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMaxFromUPhotometrySorted=select max(uPhotometry) as ymax from bi.uPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMinFromUPhotometrySorted=select min(uPhotometry) as ymin from bi.uPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCXMaxFromVPhotometrySorted=select max(vPhotometryTime) as xmax from bi.vPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCXMinFromVPhotometrySorted=select min(vPhotometryTime) as xmin from bi.vPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMaxFromVPhotometrySorted=select max(vPhotometry) as ymax from bi.vPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMinFromVPhotometrySorted=select min(vPhotometry) as ymin from bi.vPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCXMaxFromBPhotometrySorted=select max(bPhotometryTime) as xmax from bi.bPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCXMinFromBPhotometrySorted=select min(bPhotometryTime) as xmin from bi.bPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMaxFromBPhotometrySorted=select max(bPhotometry) as ymax from bi.bPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMinFromBPhotometrySorted=select min(bPhotometry) as ymin from bi.bPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCXMaxFromRPhotometrySorted=select max(rPhotometryTime) as xmax from bi.rPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCXMinFromRPhotometrySorted=select min(rPhotometryTime) as xmin from bi.rPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMaxFromRPhotometrySorted=select max(rPhotometry) as ymax from bi.rPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMinFromRPhotometrySorted=select min(rPhotometry) as ymin from bi.rPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCXMaxFromIPhotometrySorted=select max(iPhotometryTime) as xmax from bi.iPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCXMinFromIPhotometrySorted=select min(iPhotometryTime) as xmin from bi.iPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMaxFromIPhotometrySorted=select max(iPhotometry) as ymax from bi.iPhotometrySorted group by ObjectName order by ObjectName asc
database.getLCYMinFromIPhotometrySorted=select min(iPhotometry) as ymin from bi.iPhotometrySorted group by ObjectName order by ObjectName asc

database.getLCStarNamesFromUPhotometrySorted=select distinct(ObjectName) from bi.uPhotometrySorted order by ObjectName asc
database.getLCStarNamesFromVPhotometrySorted=select distinct(ObjectName) from bi.vPhotometrySorted order by ObjectName asc
database.getLCStarNamesFromBPhotometrySorted=select distinct(ObjectName) from bi.bPhotometrySorted order by ObjectName asc
database.getLCStarNamesFromRPhotometrySorted=select distinct(ObjectName) from bi.rPhotometrySorted order by ObjectName asc
database.getLCStarNamesFromIPhotometrySorted=select distinct(ObjectName) from bi.iPhotometrySorted order by ObjectName asc

#LC Diagrams Data
database.getAllLCStarNamesFromUPhotometrySorted=select ObjectName from bi.uPhotometrySorted order by ObjectName asc
database.getAllLCObservationsFromUPhotometrySorted=select uPhotometry from bi.uPhotometrySorted order by ObjectName asc
database.getAllLCTimesFromUPhotometrySorted=select uPhotometryTime from bi.uPhotometrySorted order by ObjectName asc
database.getAllLCStarNamesFromVPhotometrySorted=select ObjectName from bi.vPhotometrySorted order by ObjectName asc
database.getAllLCObservationsFromVPhotometrySorted=select vPhotometry from bi.vPhotometrySorted order by ObjectName asc
database.getAllLCTimesFromVPhotometrySorted=select vPhotometryTime from bi.vPhotometrySorted order by ObjectName asc
database.getAllLCStarNamesFromBPhotometrySorted=select ObjectName from bi.bPhotometrySorted order by ObjectName asc
database.getAllLCObservationsFromBPhotometrySorted=select bPhotometry from bi.bPhotometrySorted order by ObjectName asc
database.getAllLCTimesFromBPhotometrySorted=select bPhotometryTime from bi.bPhotometrySorted order by ObjectName asc
database.getAllLCStarNamesFromRPhotometrySorted=select ObjectName from bi.rPhotometrySorted order by ObjectName asc
database.getAllLCObservationsFromRPhotometrySorted=select rPhotometry from bi.rPhotometrySorted order by ObjectName asc
database.getAllLCTimesFromRPhotometrySorted=select rPhotometryTime from bi.rPhotometrySorted order by ObjectName asc
database.getAllLCStarNamesFromIPhotometrySorted=select ObjectName from bi.iPhotometrySorted order by ObjectName asc
database.getAllLCObservationsFromIPhotometrySorted=select iPhotometry from bi.iPhotometrySorted order by ObjectName asc
database.getAllLCTimesFromIPhotometrySorted=select iPhotometryTime from bi.iPhotometrySorted order by ObjectName asc


#Personalized LC Diagrams Range
database.getUserLCXMaxFromUPhotometrySorted=select max(so.uPhotometryTime) as xmax from bi.uPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCXMinFromUPhotometrySorted=select min(so.uPhotometryTime) as xmin from bi.uPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMaxFromUPhotometrySorted=select max(so.uPhotometry) as ymax from bi.uPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMinFromUPhotometrySorted=select min(so.uPhotometry) as ymin from bi.uPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCXMaxFromVPhotometrySorted=select max(so.vPhotometryTime) as xmax from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCXMinFromVPhotometrySorted=select min(so.vPhotometryTime) as xmin from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMaxFromVPhotometrySorted=select max(so.vPhotometry) as ymax from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMinFromVPhotometrySorted=select min(so.vPhotometry) as ymin from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCXMaxFromBPhotometrySorted=select max(so.bPhotometryTime) as xmax from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCXMinFromBPhotometrySorted=select min(so.bPhotometryTime) as xmin from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMaxFromBPhotometrySorted=select max(so.bPhotometry) as ymax from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMinFromBPhotometrySorted=select min(so.bPhotometry) as ymin from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCXMaxFromRPhotometrySorted=select max(so.rPhotometryTime) as xmax from bi.rPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCXMinFromRPhotometrySorted=select min(so.rPhotometryTime) as xmin from bi.rPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMaxFromRPhotometrySorted=select max(so.rPhotometry) as ymax from bi.rPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMinFromRPhotometrySorted=select min(so.rPhotometry) as ymin from bi.rPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCXMaxFromIPhotometrySorted=select max(so.iPhotometryTime) as xmax from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCXMinFromIPhotometrySorted=select min(so.iPhotometryTime) as xmin from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMaxFromIPhotometrySorted=select max(so.iPhotometry) as ymax from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCYMinFromIPhotometrySorted=select min(so.iPhotometry) as ymin from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=

database.getUserLCStarNamesFromUPhotometrySorted=select distinct(so.ObjectName) from bi.uPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCStarNamesFromVPhotometrySorted=select distinct(so.ObjectName) from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCStarNamesFromBPhotometrySorted=select distinct(so.ObjectName) from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCStarNamesFromRPhotometrySorted=select distinct(so.ObjectName) from bi.rPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserLCStarNamesFromIPhotometrySorted=select distinct(so.ObjectName) from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=


#Personalized LC Diagrams Data
database.getUserAllLCStarNamesFromUPhotometrySorted=select so.ObjectName from bi.uPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCObservationsFromUPhotometrySorted=select so.uPhotometry from bi.uPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCTimesFromUPhotometrySorted=select so.uPhotometryTime from bi.uPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCStarNamesFromVPhotometrySorted=select so.ObjectName from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCObservationsFromVPhotometrySorted=select so.vPhotometry from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCTimesFromVPhotometrySorted=select so.vPhotometryTime from bi.vPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCStarNamesFromBPhotometrySorted=select so.ObjectName from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCObservationsFromBPhotometrySorted=select so.bPhotometry from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCTimesFromBPhotometrySorted=select so.bPhotometryTime from bi.bPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCStarNamesFromRPhotometrySorted=select so.ObjectName from bi.rPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCObservationsFromRPhotometrySorted=select so.rPhotometry from bi.rPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCTimesFromRPhotometrySorted=select so.rPhotometryTime from bi.rPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCStarNamesFromIPhotometrySorted=select so.ObjectName from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCObservationsFromIPhotometrySorted=select so.iPhotometry from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=
database.getUserAllLCTimesFromIPhotometrySorted=select so.iPhotometryTime from bi.iPhotometrySorted so join data.users us on so.OwnerId=us.ID where us.Email=




#Remove, Add, Update, Process
database.getIdsFromStagingObservations=select distinct(Id) from stg.StagingObservations where (status='new' and active=1) or (status='deleted' and active=1) order by id desc
database.runObservationsDelta=exec bi.observationsDelta @observationId=
database.getLogFromLog=select top 1 LastLoad from log.log where Message='Completed' and ObservationId=
database.removeObservation=update stg.stagingObservations set active=1, status='deleted' where id=
database.getLastIdFromStagingObservations=select top 1 id from stg.StagingObservations order by id desc
database.insertIntoDataFileNames=insert into data.fileNames(ObservationId, FileName, FileType, FileSize)
database.insertNewUser=insert into data.users(name,email,password,activeFlag,activeCode)

#Personalized process
database.getPersonalizedIdsFromStagingObservations=select distinct(so.Id) from stg.StagingObservations so join data.users us on us.ID=so.OwnerId where ((so.status='new' and so.active=1) or (so.status='deleted' and so.active=1)) and us.email=
database.runObservationsDeltaPersonalized=exec bi.observationsDeltaPersonalized @observationId=

#Statistics
database.getNumberOfUsers=select cast(count(distinct(Name)) as varchar) as Name from data.users where ActiveFlag='true'
database.getNumberOfFiles=select cast(count(distinct(FileName)) as varchar) as FileName from data.fileNames
database.getNumberOfObjects=select cast(count(distinct(ObjectName)) as varchar) as ObjectName from bi.observations


#Personal Catalogs
database.getUObservationsFromUPhotometrySortedForObjectType=select cast(avg(cast(cast(rtrim(ltrim(so.uPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as uAverage from bi.observations ob full outer join bi.uPhotometrySorted so on ob.ObjectName=so.ObjectName join data.users us on us.Id=ob.OwnerId
database.getVObservationsFromVPhotometrySortedForObjectType=select cast(avg(cast(cast(rtrim(ltrim(so.vPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as vAverage from bi.observations ob full outer join bi.vPhotometrySorted so on ob.objectName=so.objectName join data.users us on us.Id=ob.OwnerId
database.getBObservationsFromBPhotometrySortedForObjectType=select cast(avg(cast(cast(rtrim(ltrim(so.bPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as bAverage from bi.observations ob full outer join bi.bPhotometrySorted so on ob.objectName=so.objectName join data.users us on us.Id=ob.OwnerId
database.getRObservationsFromRPhotometrySortedForObjectType=select cast(avg(cast(cast(rtrim(ltrim(so.rPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as rAverage from bi.observations ob full outer join bi.rPhotometrySorted so on ob.objectName=so.objectName join data.users us on us.Id=ob.OwnerId
database.getIObservationsFromIPhotometrySortedForObjectType=select cast(avg(cast(cast(rtrim(ltrim(so.iPhotometry)) as varchar(10)) as decimal(18,10))) as varchar) as iAverage from bi.observations ob full outer join bi.iPhotometrySorted so on ob.objectName=so.objectName join data.users us on us.Id=ob.OwnerId

database.getBVObservationsDifferenceFromBVDiagramAvgForStar=select cast(avg(cast(cast(rtrim(ltrim(av.BVDifference)) as varchar(10)) as decimal(18,10))) as varchar) from bi.observations ob full outer join bi.bvDiagramAvg av on ob.objectName=av.objectName join data.users us on us.Id=ob.OwnerId
database.getUBObservationsDifferenceFromUBDiagramAvgForStar=select cast(avg(cast(cast(rtrim(ltrim(av.UBDifference)) as varchar(10)) as decimal(18,10))) as varchar) from bi.observations ob full outer join bi.ubDiagramAvg av on ob.objectName=av.objectName join data.users us on us.Id=ob.OwnerId
database.getRIObservationsDifferenceFromRIDiagramAvgForStar=select cast(avg(cast(cast(rtrim(ltrim(av.RIDifference)) as varchar(10)) as decimal(18,10))) as varchar) from bi.observations ob full outer join bi.riDiagramAvg av on ob.objectName=av.objectName join data.users us on us.Id=ob.OwnerId
database.getVIObservationsDifferenceFromVIDiagramAvgForStar=select cast(avg(cast(cast(rtrim(ltrim(av.VIDifference)) as varchar(10)) as decimal(18,10))) as varchar) from bi.observations ob full outer join bi.viDiagramAvg av on ob.objectName=av.objectName join data.users us on us.Id=ob.OwnerId

database.getObjectNamesForCatalog=select ob.ObjectName from bi.observations ob join data.users us on us.Id=ob.OwnerId


#Reduction Images
database.insertIntoDataReductionImages=insert into data.images(ID, ImageId, OwnerID, FileExtensionId, SessionId, ConversionTypeId, ImageTypeId, ObjectName, FolderName, ProcessingType, UploadTime, ActiveFlag)
database.getNumberOfImagesInDataImages=select count(1) from data.images im join dic.conversionTypes co on co.conversionTypeId=im.ConversionTypeId join dic.imageTypes it on it.ImageTypeId=im.ImageTypeId where im.objectName=
database.getLastIdFromDataImages=select top 1 id from data.images order by id desc
database.getImageIds = select im.ImageId from data.images im join dic.conversionTypes co on co.conversionTypeId=im.ConversionTypeId join dic.imageTypes it on it.ImageTypeId=im.ImageTypeId where im.sessionId =
database.getFileNames = select im.ObjectName from data.images im join dic.conversionTypes co on co.conversionTypeId=im.ConversionTypeId join dic.imageTypes it on it.ImageTypeId=im.ImageTypeId where im.sessionId =
database.getDarkFrames = select im.ObjectName from data.images im where ImageTypeId = 2 and FileExtensionId = 3 and im.sessionId =
database.getBiasFrames = select im.ObjectName from data.images im where ImageTypeId = 4 and FileExtensionId = 3 and im.sessionId =
database.getFlatFields = select im.ObjectName from data.images im where ImageTypeId = 3 and FileExtensionId = 3 and im.sessionId =
database.getRawFrames = select im.ObjectName from data.images im where ImageTypeId = 1 and FileExtensionId = 3 and im.sessionId =
database.getImages =   select objectName from data.images where FileExtensionId = 3 and ImageTypeId = 5 and SessionId =
database.updateActiveFlagFalse = update data.images set activeFlag = 0 where SessionId =
database.updateActiveFlagTrue = update data.images set activeFlag = 1 where SessionId =
